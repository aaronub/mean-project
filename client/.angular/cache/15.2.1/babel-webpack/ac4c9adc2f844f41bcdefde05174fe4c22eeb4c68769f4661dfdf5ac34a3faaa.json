{"ast":null,"code":"import { selectReports } from 'src/app/store/report/report.selector';\nimport { ReportDialogComponent } from 'src/app/components/report-dialog/report-dialog.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"src/app/services/report/report.service\";\nimport * as i4 from \"@ngrx/store\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/router\";\nimport * as i7 from \"@angular/material/button\";\nimport * as i8 from \"@angular/material/card\";\nimport * as i9 from \"@angular/material/grid-list\";\nfunction EmployeeHousingComponent_div_0_p_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r1.house.address.apt);\n  }\n}\nfunction EmployeeHousingComponent_div_0_mat_grid_tile_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-grid-tile\")(1, \"div\", 3)(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const roommate_r4 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", roommate_r4.firstName, \" \", roommate_r4.lastName, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(roommate_r4.cellPhoneNumber);\n  }\n}\nfunction EmployeeHousingComponent_div_0_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"a\", 7)(2, \"mat-card\")(3, \"mat-card-header\")(4, \"mat-card-title\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"mat-card-subtitle\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"mat-card-content\")(10, \"p\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelement(12, \"br\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const report_r5 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"report/\", report_r5._id, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(report_r5.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(8, 4, report_r5.date, \"mediumDate\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(report_r5.description);\n  }\n}\nfunction EmployeeHousingComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"mat-grid-list\", 1)(2, \"mat-grid-tile\", 2);\n    i0.ɵɵtext(3, \"Address\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"mat-grid-tile\")(5, \"div\", 3)(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, EmployeeHousingComponent_div_0_p_8_Template, 2, 1, \"p\", 0);\n    i0.ɵɵelementStart(9, \"p\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(11, \"mat-grid-tile\")(12, \"mat-grid-tile\");\n    i0.ɵɵelementStart(13, \"mat-grid-tile\", 2);\n    i0.ɵɵtext(14, \"Roommates\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(15, EmployeeHousingComponent_div_0_mat_grid_tile_15_Template, 6, 3, \"mat-grid-tile\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"div\", 5);\n    i0.ɵɵtemplate(17, EmployeeHousingComponent_div_0_div_17_Template, 13, 7, \"div\", 4);\n    i0.ɵɵpipe(18, \"async\");\n    i0.ɵɵelementStart(19, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function EmployeeHousingComponent_div_0_Template_button_click_19_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.openDialog());\n    });\n    i0.ɵɵtext(20, \"Create New Facility Report\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r0.house.address.street);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.house.address.apt !== undefined);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.house.address.city + \", \" + ctx_r0.house.address.state + \" \" + ctx_r0.house.address.zip);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.house.roommates);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(18, 5, ctx_r0.reports$));\n  }\n}\nexport class EmployeeHousingComponent {\n  constructor(dialog, http, reportService, store) {\n    this.dialog = dialog;\n    this.http = http;\n    this.reportService = reportService;\n    this.store = store;\n    this.reports$ = this.store.select(selectReports);\n  }\n  ngOnInit() {\n    this.http.get('http://localhost:3000/user/house').subscribe({\n      next: res => {\n        console.log(res);\n        this.house = res.house;\n      },\n      error: e => {\n        alert(e.error.message);\n      }\n    });\n    this.reportService.getReports();\n  }\n  openDialog() {\n    this.dialog.open(ReportDialogComponent);\n  }\n}\nEmployeeHousingComponent.ɵfac = function EmployeeHousingComponent_Factory(t) {\n  return new (t || EmployeeHousingComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.HttpClient), i0.ɵɵdirectiveInject(i3.ReportService), i0.ɵɵdirectiveInject(i4.Store));\n};\nEmployeeHousingComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EmployeeHousingComponent,\n  selectors: [[\"app-employee-housing\"]],\n  decls: 1,\n  vars: 1,\n  consts: [[4, \"ngIf\"], [\"cols\", \"4\", \"rowHeight\", \"2:1\"], [1, \"bold\"], [1, \"flex-container\"], [4, \"ngFor\", \"ngForOf\"], [1, \"layout\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"click\"], [3, \"routerLink\"]],\n  template: function EmployeeHousingComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, EmployeeHousingComponent_div_0_Template, 21, 7, \"div\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.house);\n    }\n  },\n  dependencies: [i5.NgForOf, i5.NgIf, i6.RouterLink, i7.MatButton, i8.MatCard, i8.MatCardContent, i8.MatCardHeader, i8.MatCardSubtitle, i8.MatCardTitle, i9.MatGridList, i9.MatGridTile, i5.AsyncPipe, i5.DatePipe],\n  styles: [\".flex-container[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n}\\r\\n\\r\\nmat-grid-tile.bold[_ngcontent-%COMP%] {\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n.layout[_ngcontent-%COMP%] {\\r\\n    padding: 1rem;\\r\\n}\\r\\n\\r\\na[_ngcontent-%COMP%]:link {\\r\\n    text-decoration: none;\\r\\n}\\r\\n\\r\\na[_ngcontent-%COMP%]:visited {\\r\\n    text-decoration: none;\\r\\n}\\r\\n\\r\\na[_ngcontent-%COMP%]:hover {\\r\\n    text-decoration: none;\\r\\n}\\r\\n\\r\\na[_ngcontent-%COMP%]:active {\\r\\n    text-decoration: none;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvZW1wbG95ZWUtaG91c2luZy9lbXBsb3llZS1ob3VzaW5nLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxhQUFhO0lBQ2Isc0JBQXNCO0FBQzFCOztBQUVBO0lBQ0ksaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksYUFBYTtBQUNqQjs7QUFFQTtJQUNJLHFCQUFxQjtBQUN6Qjs7QUFFQTtJQUNJLHFCQUFxQjtBQUN6Qjs7QUFFQTtJQUNJLHFCQUFxQjtBQUN6Qjs7QUFFQTtJQUNJLHFCQUFxQjtBQUN6QiIsInNvdXJjZXNDb250ZW50IjpbIi5mbGV4LWNvbnRhaW5lciB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxufVxyXG5cclxubWF0LWdyaWQtdGlsZS5ib2xkIHtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG59XHJcblxyXG4ubGF5b3V0IHtcclxuICAgIHBhZGRpbmc6IDFyZW07XHJcbn1cclxuXHJcbmE6bGluayB7XHJcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbn1cclxuXHJcbmE6dmlzaXRlZCB7XHJcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbn1cclxuXHJcbmE6aG92ZXIge1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG59XHJcblxyXG5hOmFjdGl2ZSB7XHJcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAKA,SAASA,aAAa,QAAQ,sCAAsC;AAEpE,SAASC,qBAAqB,QAAQ,0DAA0D;;;;;;;;;;;;;ICDhFC,yBAA2C;IAAAA,YAAuB;IAAAA,iBAAI;;;;IAA3BA,eAAuB;IAAvBA,8CAAuB;;;;;IAO1EA,qCAAwD;IAE7CA,YAAgD;IAAAA,iBAAI;IACvDA,yBAAG;IAAAA,YAA8B;IAAAA,iBAAI;;;;IADlCA,eAAgD;IAAhDA,+EAAgD;IAChDA,eAA8B;IAA9BA,iDAA8B;;;;;IAMzCA,2BAA6C;IAIbA,YAAkB;IAAAA,iBAAiB;IACnDA,yCAAmB;IAAAA,YAAuC;;IAAAA,iBAAoB;IAElFA,wCAAkB;IACXA,aAAwB;IAAAA,iBAAI;IAI3CA,sBAAI;IACRA,iBAAM;;;;IAZCA,eAAoC;IAApCA,qEAAoC;IAGXA,eAAkB;IAAlBA,qCAAkB;IACfA,eAAuC;IAAvCA,wEAAuC;IAGvDA,eAAwB;IAAxBA,2CAAwB;;;;;;IA9BnDA,2BAAmB;IAEiBA,uBAAO;IAAAA,iBAAgB;IACnDA,qCAAe;IAEJA,YAAyB;IAAAA,iBAAI;IAChCA,2EAAsE;IACtEA,yBAAG;IAAAA,aAA+E;IAAAA,iBAAI;IAG9FA,iCAA+B;IAE/BA,yCAA4B;IAAAA,0BAAS;IAAAA,iBAAgB;IACrDA,qGAKgB;IACpBA,iBAAgB;IAEhBA,+BAAoB;IAChBA,kFAaM;;IAENA,kCAAiE;IAAvBA;MAAAA;MAAA;MAAA,OAASA,kCAAY;IAAA,EAAC;IAACA,2CAA0B;IAAAA,iBAAS;;;;IAhCzFA,eAAyB;IAAzBA,iDAAyB;IACxBA,eAAqC;IAArCA,6DAAqC;IACtCA,eAA+E;IAA/EA,oHAA+E;IAMtDA,eAAkB;IAAlBA,gDAAkB;IAS9BA,eAAmB;IAAnBA,gEAAmB;;;ADPnD,OAAM,MAAOC,wBAAwB;EAInCC,YACSC,MAAiB,EAChBC,IAAgB,EAChBC,aAA4B,EAC5BC,KAAY;IAHb,WAAM,GAANH,MAAM;IACL,SAAI,GAAJC,IAAI;IACJ,kBAAa,GAAbC,aAAa;IACb,UAAK,GAALC,KAAK;IANf,aAAQ,GAAyB,IAAI,CAACA,KAAK,CAACC,MAAM,CAACT,aAAa,CAAC;EAO9D;EAEHU,QAAQ;IACN,IAAI,CAACJ,IAAI,CAACK,GAAG,CAAC,kCAAkC,CAAC,CAACC,SAAS,CAAC;MAC1DC,IAAI,EAAGC,GAAQ,IAAI;QACjBC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;QAChB,IAAI,CAACG,KAAK,GAAGH,GAAG,CAACG,KAAK;MACxB,CAAC;MACDC,KAAK,EAAGC,CAAC,IAAI;QACXC,KAAK,CAACD,CAAC,CAACD,KAAK,CAACG,OAAO,CAAC;MACxB;KACD,CAAC;IAEF,IAAI,CAACd,aAAa,CAACe,UAAU,EAAE;EACjC;EAEAC,UAAU;IACR,IAAI,CAAClB,MAAM,CAACmB,IAAI,CAACvB,qBAAqB,CAAC;EACzC;;AA3BWE,wBAAwB;mBAAxBA,wBAAwB;AAAA;AAAxBA,wBAAwB;QAAxBA,wBAAwB;EAAAsB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCfrC3B,0EAuCM;;;MAvCAA,gCAAW","names":["selectReports","ReportDialogComponent","i0","EmployeeHousingComponent","constructor","dialog","http","reportService","store","select","ngOnInit","get","subscribe","next","res","console","log","house","error","e","alert","message","getReports","openDialog","open","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["D:\\doc_vs\\mean-project\\client\\src\\app\\pages\\employee-housing\\employee-housing.component.ts","D:\\doc_vs\\mean-project\\client\\src\\app\\pages\\employee-housing\\employee-housing.component.html"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable } from 'rxjs';\r\nimport { ReportService } from 'src/app/services/report/report.service';\r\nimport { selectReports } from 'src/app/store/report/report.selector';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { ReportDialogComponent } from 'src/app/components/report-dialog/report-dialog.component';\r\nimport { Report } from 'src/app/interfaces/report';\r\n\r\n@Component({\r\n  selector: 'app-employee-housing',\r\n  templateUrl: './employee-housing.component.html',\r\n  styleUrls: ['./employee-housing.component.css']\r\n})\r\nexport class EmployeeHousingComponent implements OnInit {\r\n  house: any;\r\n  reports$: Observable<Report[]> = this.store.select(selectReports);\r\n\r\n  constructor (\r\n    public dialog: MatDialog,\r\n    private http: HttpClient,\r\n    private reportService: ReportService,\r\n    private store: Store,\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.http.get('http://localhost:3000/user/house').subscribe({\r\n      next: (res: any) => {\r\n        console.log(res);\r\n        this.house = res.house;\r\n      },\r\n      error: (e) => {\r\n        alert(e.error.message);\r\n      }\r\n    });\r\n\r\n    this.reportService.getReports();\r\n  }\r\n\r\n  openDialog(): void {\r\n    this.dialog.open(ReportDialogComponent);\r\n  }\r\n}\r\n","<div *ngIf=\"house\">\r\n    <mat-grid-list cols=\"4\" rowHeight=\"2:1\">\r\n        <mat-grid-tile class=\"bold\">Address</mat-grid-tile>\r\n        <mat-grid-tile>\r\n            <div class=\"flex-container\">\r\n                <p>{{ house.address.street}}</p>\r\n                <p *ngIf=\"house.address.apt !== undefined\">{{ house.address.apt }}</p>\r\n                <p>{{ house.address.city + \", \" + house.address.state + \" \" + house.address.zip }}</p>\r\n            </div>\r\n        </mat-grid-tile>\r\n        <mat-grid-tile></mat-grid-tile>\r\n        <mat-grid-tile></mat-grid-tile>\r\n        <mat-grid-tile class=\"bold\">Roommates</mat-grid-tile>\r\n        <mat-grid-tile *ngFor=\"let roommate of house.roommates\">\r\n            <div class=\"flex-container\">\r\n                <p>{{ roommate.firstName }} {{ roommate.lastName }}</p>\r\n                <p>{{ roommate.cellPhoneNumber }}</p>\r\n            </div>\r\n        </mat-grid-tile>\r\n    </mat-grid-list>\r\n\r\n    <div class=\"layout\">\r\n        <div *ngFor=\"let report of reports$ | async\">\r\n            <a routerLink=\"report/{{ report._id }}\">\r\n                <mat-card>\r\n                    <mat-card-header>\r\n                        <mat-card-title>{{ report.title }}</mat-card-title>\r\n                        <mat-card-subtitle>{{ report.date | date : 'mediumDate' }}</mat-card-subtitle>\r\n                    </mat-card-header>\r\n                    <mat-card-content>\r\n                        <p>{{ report.description }}</p>\r\n                    </mat-card-content>\r\n                </mat-card>\r\n            </a>\r\n            <br>\r\n        </div>\r\n    \r\n        <button mat-raised-button color=\"primary\" (click)=\"openDialog()\">Create New Facility Report</button>\r\n    </div>\r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}